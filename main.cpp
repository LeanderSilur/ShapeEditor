#include <iostream>
#include <QtWidgets/QApplication>
#include <QtWidgets>
#include <opencv2/core.hpp>
#include <opencv2/imgcodecs.hpp>
#include "ImageViewer.h"
#include "ShapeEditor.h"
#include "InputDialog.h"

#include <filesystem>
#include "PtTree.h"

#include "AnimationFrame.h"

int main(int argc, char* argv[])
{
	PtTree tree;
	std::vector<VE::Point> points = {
		VE::Point(1.9959639310836792, 1.8256094455718994), VE::Point(0.2964426577091217, 0.36467215418815613), VE::Point(1.9404616355895996, 1.135179877281189), VE::Point(1.37395441532135, 1.819750189781189), VE::Point(1.7165380716323853, 1.089281439781189), VE::Point(1.3203660249710083, 0.03850037604570389), VE::Point(0.28878718614578247, 0.4896720349788666), VE::Point(0.8782607316970825, 0.32170331478118896), VE::Point(0.21414592862129211, 1.5209219455718994), VE::Point(0.005533464252948761, 0.16935957968235016), VE::Point(0.3921363055706024, 0.817797064781189), VE::Point(0.37108367681503296, 0.09904702007770538), VE::Point(0.16821295022964478, 1.497484564781189), VE::Point(0.5107966065406799, 0.2982657849788666), VE::Point(0.6064905524253845, 0.8451407551765442), VE::Point(0.6887869238853455, 1.3998284339904785), VE::Point(0.6562511920928955, 0.5013906359672546), VE::Point(0.623715341091156, 1.688890814781189), VE::Point(0.7366340756416321, 1.087328314781189), VE::Point(1.984480619430542, 1.450609564781189), VE::Point(1.3299354314804077, 0.4760001301765442), VE::Point(1.314624309539795, 0.538500189781189), VE::Point(0.6734760999679565, 1.626390814781189), VE::Point(0.8533803820610046, 1.852953314781189), VE::Point(0.7710837721824646, 0.24357834458351135), VE::Point(1.6227582693099976, 1.5658438205718994), VE::Point(0.6485958099365234, 0.25139084458351135), VE::Point(1.0390262603759766, 0.608812689781189), VE::Point(0.2868731617927551, 1.7396719455718994), VE::Point(0.4514665901660919, 1.2670156955718994), VE::Point(0.8017057180404663, 0.16545338928699493), VE::Point(0.12993547320365906, 1.184984564781189), VE::Point(1.936633825302124, 0.635179877281189), VE::Point(1.0428539514541626, 1.108812689781189), VE::Point(0.49739953875541687, 1.1732656955718994), VE::Point(1.3509879112243652, 0.10100036859512329), VE::Point(0.6466817855834961, 0.0638907328248024), VE::Point(0.39022257924079895, 1.3177969455718994), VE::Point(1.3567296266555786, 0.6947501301765442), VE::Point(0.550987958908081, 1.610765814781189), VE::Point(1.2993134260177612, 0.4135001301765442), VE::Point(1.1213228702545166, 1.936937689781189), VE::Point(0.526107668876648, 0.23576578497886658), VE::Point(0.8572080731391907, 1.602953314781189), VE::Point(0.04763869568705559, 0.9818596243858337), VE::Point(1.0505095720291138, 0.655687689781189), VE::Point(1.3682128190994263, 0.3197501301765442), VE::Point(1.2820885181427002, 1.866625189781189), VE::Point(0.956729531288147, 1.2025628089904785), VE::Point(0.3634282350540161, 1.8490471839904785), VE::Point(0.7768254280090332, 1.743578314781189), VE::Point(0.44189709424972534, 0.3920156955718994), VE::Point(1.3624712228775024, 1.4447500705718994), VE::Point(0.797878086566925, 1.118578314781189), VE::Point(1.1825668811798096, 1.8978750705718994), VE::Point(0.9758683443069458, 1.8275628089904785), VE::Point(1.9615142345428467, 1.263109564781189), VE::Point(0.15864358842372894, 0.247484490275383), VE::Point(0.706011950969696, 1.024828314781189), VE::Point(0.6907010674476624, 0.8998283743858337), VE::Point(1.2418971061706543, 0.929125189781189), VE::Point(1.0600789785385132, 1.9056878089904785), VE::Point(1.8696482181549072, 1.0736565589904785), VE::Point(1.0773037672042847, 0.21818765997886658), VE::Point(0.2907009720802307, 1.489672064781189), VE::Point(0.6811315417289734, 1.149828314781189), VE::Point(0.34620335698127747, 0.724047064781189), VE::Point(1.021801233291626, 1.733812689781189), VE::Point(0.639026403427124, 1.8138905763626099), VE::Point(1.9749113321304321, 0.20060938596725464), VE::Point(0.577782154083252, 1.782640814781189), VE::Point(1.6399831771850586, 1.0033440589904785), VE::Point(1.12706458568573, 0.8119375705718994), VE::Point(0.42084452509880066, 1.380297064781189), VE::Point(1.3777822256088257, 1.569750189781189), VE::Point(0.59309321641922, 1.720140814781189), VE::Point(1.249552607536316, 0.804125189781189), VE::Point(1.7643851041793823, 1.9955313205718994), VE::Point(1.0409400463104248, 1.608812689781189), VE::Point(0.6753899455070496, 1.126390814781189), VE::Point(1.4122319221496582, 0.1322503685951233), VE::Point(1.2935718297958374, 1.163500189781189), VE::Point(0.8744329810142517, 0.9467033743858337), VE::Point(1.875389814376831, 1.2611563205718994), VE::Point(0.2926146984100342, 0.989672064781189), VE::Point(1.7950072288513184, 1.917406439781189), VE::Point(0.6773039102554321, 0.1263907253742218), VE::Point(0.7787391543388367, 0.49357834458351135), VE::Point(1.7375909090042114, 1.3080315589904785), VE::Point(0.4840024709701538, 0.829515814781189), VE::Point(0.6371124386787415, 0.8138907551765442), VE::Point(0.472519189119339, 0.4545157551765442), VE::Point(1.1653419733047485, 1.124437689781189), VE::Point(1.5423755645751953, 1.6595940589904785), VE::Point(0.21988758444786072, 0.2084220051765442), VE::Point(1.4639066457748413, 0.8314688801765442), VE::Point(0.1395047903060913, 0.9349845051765442), VE::Point(1.6438108682632446, 0.3783439099788666), VE::Point(0.44572505354881287, 0.892015814781189), VE::Point(0.49165794253349304, 1.079515814781189), VE::Point(1.7069686651229858, 1.3392815589904785), VE::Point(0.612231969833374, 1.595140814781189), VE::Point(1.814145803451538, 1.2299065589904785), VE::Point(0.7270645499229431, 1.337328314781189), VE::Point(1.287830114364624, 1.1166250705718994), VE::Point(1.9997916221618652, 1.5756094455718994), VE::Point(0.2428540289402008, 0.5834219455718994), VE::Point(1.0677343606948853, 1.780687689781189), VE::Point(1.8907008171081543, 1.386156439781189), VE::Point(0.017016777768731117, 0.9193594455718994), VE::Point(1.0964425802230835, 0.843187689781189), VE::Point(0.43424174189567566, 0.1420157551765442), VE::Point(1.230413794517517, 0.17912520468235016), VE::Point(0.7251507639884949, 0.33732834458351135), VE::Point(1.6170166730880737, 0.815843939781189), VE::Point(1.7529017925262451, 1.2455315589904785), VE::Point(0.05338025838136673, 1.356859564781189), VE::Point(0.8189306259155273, 1.290453314781189), VE::Point(1.6878300905227661, 0.02678137645125389), VE::Point(0.9509880542755127, 1.0150628089904785), VE::Point(0.0629497691988945, 1.106859564781189), VE::Point(1.749074101448059, 0.058031558990478516), VE::Point(1.779695987701416, 0.12053154408931732), VE::Point(0.388308584690094, 0.31779706478118896), VE::Point(0.40936121344566345, 1.7552968263626099), VE::Point(1.7088826894760132, 0.8392813205718994), VE::Point(0.9375908374786377, 1.8900628089904785), VE::Point(1.605533480644226, 0.4408439099788666), VE::Point(1.0103180408477783, 1.546312689781189), VE::Point(0.27730369567871094, 1.0521721839904785), VE::Point(1.7758684158325195, 1.6205315589904785), VE::Point(1.8964426517486572, 0.6361564993858337), VE::Point(1.2610357999801636, 0.2416251301765442), VE::Point(0.7596004605293274, 0.8060782551765442), VE::Point(0.5414186120033264, 0.36076587438583374), VE::Point(0.7940501570701599, 0.6185783743858337), VE::Point(0.2639068067073822, 1.9271719455718994), VE::Point(1.7988349199295044, 1.2924065589904785), VE::Point(0.7213230133056641, 0.9623282551765442), VE::Point(1.9002703428268433, 1.136156439781189), VE::Point(1.8160597085952759, 0.7299063801765442), VE::Point(0.862949788570404, 0.19670338928699493), VE::Point(0.9471602439880371, 0.5150626301765442), VE::Point(1.1691697835922241, 0.14787501096725464), VE::Point(0.07826078683137894, 0.9037345051765442), VE::Point(1.0371124744415283, 1.8588128089904785), VE::Point(1.4351983070373535, 1.7689688205718994), VE::Point(0.3691699802875519, 1.099047064781189), VE::Point(1.4466817378997803, 1.206468939781189), VE::Point(0.3557727336883545, 1.9740469455718994), VE::Point(0.4706052839756012, 1.7045155763626099), VE::Point(1.5002702474594116, 1.5502190589904785), VE::Point(0.1222798228263855, 1.5912344455718994), VE::Point(1.7816097736358643, 0.16740655899047852), VE::Point(1.1768252849578857, 0.3978751599788666), VE::Point(0.545246422290802, 0.860765814781189), VE::Point(0.8706052899360657, 0.44670331478118896), VE::Point(0.2830454111099243, 1.239672064781189), VE::Point(0.7959641218185425, 1.618578314781189), VE::Point(0.7002703547477722, 1.774828314781189), VE::Point(0.07251902669668198, 1.6537346839904785), VE::Point(1.014145851135254, 0.046312738209962845), VE::Point(1.0753898620605469, 0.03068772703409195), VE::Point(1.2686913013458252, 0.4916251301765442), VE::Point(1.6916577816009521, 1.2142815589904785), VE::Point(1.7873516082763672, 1.6674065589904785), VE::Point(1.9519449472427368, 0.38810956478118896), VE::Point(1.772040605545044, 1.870531439781189), VE::Point(1.1289782524108887, 1.811937689781189), VE::Point(1.4581650495529175, 1.956468939781189), VE::Point(1.7299351692199707, 1.433031439781189), VE::Point(1.0256291627883911, 1.483812689781189), VE::Point(0.4036196172237396, 0.25529706478118896), VE::Point(0.5643851161003113, 0.40764087438583374), VE::Point(1.4907008409500122, 0.30021893978118896), VE::Point(1.4084041118621826, 1.6322503089904785), VE::Point(0.5586435198783875, 1.157640814781189), VE::Point(0.4552941620349884, 1.767015814781189), VE::Point(0.5892656445503235, 1.220140814781189), VE::Point(0.22945696115493774, 1.4584219455718994), VE::Point(1.6840022802352905, 1.526781439781189), VE::Point(1.2017055749893188, 1.210375189781189), VE::Point(1.270605206489563, 1.491625189781189), VE::Point(0.5988349914550781, 0.9701407551765442), VE::Point(0.5911794304847717, 0.7201406955718994), VE::Point(1.96725594997406, 0.513109564781189), VE::Point(1.571083664894104, 0.7220938801765442), VE::Point(0.6658205389976501, 1.376390814781189), VE::Point(1.9347199201583862, 1.8851797580718994), VE::Point(1.7452462911605835, 1.558031439781189), VE::Point(1.6036196947097778, 1.6908440589904785), VE::Point(1.0045764446258545, 0.796312689781189), VE::Point(1.0811315774917603, 0.718187689781189), VE::Point(0.41893061995506287, 0.38029706478118896), VE::Point(0.9184520840644836, 1.634203314781189), VE::Point(1.8734759092330933, 0.261156290769577), VE::Point(0.4763469398021698, 0.954515814781189), VE::Point(0.8380693793296814, 1.7279530763626099), VE::Point(1.5615142583847046, 1.534593939781189), VE::Point(0.9069688320159912, 0.009203380905091763), VE::Point(0.9950070977210999, 1.421312689781189), VE::Point(0.35385870933532715, 0.974047064781189), VE::Point(1.8179736137390137, 1.7299065589904785), VE::Point(1.7509878873825073, 0.24553149938583374), VE::Point(1.6074473857879639, 1.440843939781189), VE::Point(1.9289785623550415, 0.38517987728118896), VE::Point(1.1672558784484863, 0.12443770468235016), VE::Point(0.3481173515319824, 1.7240469455718994), VE::Point(1.6859159469604492, 1.026781439781189), VE::Point(0.3232368230819702, 0.911547064781189), VE::Point(0.9012272953987122, 0.509203314781189), VE::Point(0.48017463088035583, 0.3295157849788666), VE::Point(0.7194090485572815, 1.462328314781189), VE::Point(1.2840023040771484, 0.6166251301765442), VE::Point(1.0026625394821167, 1.2963128089904785), VE::Point(0.7481171488761902, 0.43107834458351135), VE::Point(1.7911791801452637, 1.4174065589904785), VE::Point(0.8648636341094971, 1.1967034339904785), VE::Point(0.6524235010147095, 0.7513907551765442), VE::Point(0.13567723333835602, 0.4349844753742218), VE::Point(1.1634281873703003, 1.6244378089904785), VE::Point(0.6428540945053101, 1.563890814781189), VE::Point(0.8457248210906982, 1.977953314781189), VE::Point(1.509839653968811, 0.7377188801765442), VE::Point(1.0619927644729614, 0.2806876599788666), VE::Point(0.183524027466774, 1.6224844455718994), VE::Point(0.03424170985817909, 0.04435958340764046), VE::Point(0.29835647344589233, 1.364672064781189), VE::Point(1.8811315298080444, 0.511156439781189), VE::Point(1.213188886642456, 1.960375189781189), VE::Point(0.3729977011680603, 0.19279702007770538), VE::Point(1.465820550918579, 1.831468939781189), VE::Point(1.85816490650177, 0.32365646958351135), VE::Point(1.5194090604782104, 1.987718939781189), VE::Point(0.4476386308670044, 1.8920155763626099), VE::Point(1.5902223587036133, 0.597093939781189), VE::Point(0.3959641456604004, 0.567797064781189), VE::Point(1.2744330167770386, 1.991625189781189), VE::Point(0.7634282112121582, 0.5560782551765442), VE::Point(1.01797354221344, 1.233812689781189), VE::Point(1.5347199440002441, 0.1127190813422203), VE::Point(1.1940501928329468, 1.5228750705718994), VE::Point(1.8485954999923706, 1.698656439781189), VE::Point(1.1328061819076538, 1.5619375705718994), VE::Point(0.8686913847923279, 1.696703314781189), VE::Point(0.18735162913799286, 0.12248454988002777), VE::Point(0.12036620825529099, 0.5912345051765442), VE::Point(1.5213227272033691, 0.36271902918815613), VE::Point(1.6380692720413208, 1.503343939781189), VE::Point(1.7395048141479492, 0.8080313801765442), VE::Point(1.9940500259399414, 0.8256096243858337), VE::Point(1.3892654180526733, 1.7572500705718994), VE::Point(1.6782606840133667, 0.7767813801765442), VE::Point(1.29165780544281, 0.16350018978118896), VE::Point(0.9203659296035767, 1.1342034339904785), VE::Point(1.6648635864257812, 1.6517815589904785), VE::Point(0.5222799181938171, 1.0482656955718994), VE::Point(1.5270644426345825, 1.862718939781189), VE::Point(1.9825670719146729, 0.45060956478118896), VE::Point(1.5021840333938599, 1.0502190589904785), VE::Point(0.6007487773895264, 1.9701405763626099), VE::Point(0.6447679400444031, 1.063890814781189), VE::Point(0.8591220378875732, 1.1029534339904785), VE::Point(1.2476387023925781, 1.304125189781189), VE::Point(1.9079257249832153, 1.572679877281189), VE::Point(1.6552941799163818, 1.1283440589904785), VE::Point(1.0639066696166992, 1.2806878089904785), VE::Point(1.0466817617416382, 0.15568773448467255), VE::Point(0.26199281215667725, 0.9271719455718994), VE::Point(1.7433325052261353, 0.5580312609672546), VE::Point(0.5146245360374451, 0.798265814781189), VE::Point(0.1930934190750122, 0.645922064781189), VE::Point(1.308882713317871, 1.2885000705718994), VE::Point(1.6418970823287964, 0.0033440773840993643), VE::Point(1.8562510013580322, 1.9486563205718994), VE::Point(0.9720405340194702, 1.3275628089904785), VE::Point(1.879217505455017, 1.7611562013626099), VE::Point(1.7318490743637085, 0.9330313801765442), VE::Point(1.3280214071273804, 1.7260003089904785), VE::Point(0.640940248966217, 0.563890814781189), VE::Point(0.4170167148113251, 0.005297020543366671), VE::Point(1.5251506567001343, 0.862718939781189), VE::Point(1.532806158065796, 1.112718939781189), VE::Point(0.4629497826099396, 0.017015762627124786), VE::Point(1.0160597562789917, 0.23381248116493225), VE::Point(0.051466647535562515, 0.3568595051765442), VE::Point(0.767255961894989, 1.056078314781189), VE::Point(0.48974400758743286, 1.579515814781189), VE::Point(1.4964423179626465, 1.800218939781189), VE::Point(0.7462034225463867, 1.681078314781189), VE::Point(1.701227068901062, 0.9642813801765442), VE::Point(0.24859564006328583, 0.08342204988002777), VE::Point(0.765342116355896, 1.556078314781189), VE::Point(1.9213228225708008, 0.510179877281189), VE::Point(1.540461540222168, 0.6595939993858337), VE::Point(1.1596004962921143, 1.8744375705718994), VE::Point(1.8639063835144043, 1.8236563205718994), VE::Point(0.2562512159347534, 1.6771719455718994), VE::Point(1.8887869119644165, 0.38615646958351135), VE::Point(0.56055748462677, 0.6576407551765442), VE::Point(0.10696875303983688, 1.4662344455718994), VE::Point(1.6112751960754395, 1.940843939781189), VE::Point(1.718451976776123, 0.08928155899047852), VE::Point(1.5768252611160278, 1.472093939781189), VE::Point(0.516538143157959, 1.7982655763626099), VE::Point(0.8112750053405762, 1.415453314781189), VE::Point(0.7174951434135437, 0.46232834458351135), VE::Point(0.9088827967643738, 0.38420331478118896), VE::Point(0.7289784550666809, 0.8373282551765442), VE::Point(1.4160598516464233, 1.1439690589904785), VE::Point(1.3107966184616089, 0.7885001301765442), VE::Point(0.19883503019809723, 1.3959221839904785), VE::Point(1.444767713546753, 0.20646904408931732), VE::Point(1.318452000617981, 1.038500189781189), VE::Point(0.18161003291606903, 0.622484564781189), VE::Point(1.5155812501907349, 1.4877190589904785), VE::Point(0.4017057716846466, 0.06779702007770538), VE::Point(1.3050549030303955, 1.913500189781189), VE::Point(1.97682523727417, 1.200609564781189), VE::Point(1.5844806432724, 1.3470940589904785), VE::Point(0.6926148533821106, 1.8998280763626099), VE::Point(0.38065305352211, 0.44279706478118896), VE::Point(1.5385478734970093, 1.159593939781189), VE::Point(0.4686915874481201, 0.704515814781189), VE::Point(0.8227583765983582, 1.790453314781189), VE::Point(0.43998318910598755, 1.642015814781189), VE::Point(0.9988348484039307, 1.9213128089904785), VE::Point(0.08974410593509674, 0.5287346243858337), VE::Point(1.4887871742248535, 1.925218939781189), VE::Point(1.417973518371582, 0.6439688801765442), VE::Point(1.4256290197372437, 0.8939688801765442), VE::Point(0.6715622544288635, 0.6263907551765442), VE::Point(1.7892656326293945, 0.41740646958351135), VE::Point(1.1098395586013794, 1.186937689781189), VE::Point(0.23137089610099792, 0.9584219455718994), VE::Point(1.2151027917861938, 0.3353751301765442), VE::Point(1.4390262365341187, 1.5189690589904785), VE::Point(0.4246722459793091, 1.8802968263626099), VE::Point(0.4265860617160797, 0.6302971839904785), VE::Point(0.26582056283950806, 0.3021720051765442), VE::Point(1.2399832010269165, 1.4291250705718994), VE::Point(1.8868733644485474, 0.011156536638736725), VE::Point(1.4773038625717163, 1.1752190589904785), VE::Point(1.4849591255187988, 1.425218939781189), VE::Point(0.5280214548110962, 1.235765814781189), VE::Point(1.724193811416626, 0.6830313205718994), VE::Point(1.253380298614502, 0.5541251301765442), VE::Point(0.2715623080730438, 1.8021719455718994), VE::Point(0.9433324337005615, 0.765062689781189), VE::Point(1.0715621709823608, 1.530687689781189), VE::Point(1.7854375839233398, 0.667406439781189), VE::Point(1.846681833267212, 0.6986564993858337), VE::Point(1.423715353012085, 1.3939690589904785), VE::Point(1.7107964754104614, 1.839281439781189), VE::Point(0.10505513846874237, 0.4662344753742218), VE::Point(0.5184521675109863, 0.548265814781189), VE::Point(0.14524616301059723, 1.309984564781189), VE::Point(0.11462444812059402, 1.341234564781189), VE::Point(1.41031813621521, 1.132250189781189), VE::Point(0.3596004545688629, 1.349047064781189), VE::Point(0.35003116726875305, 0.4740470349788666), VE::Point(0.32132306694984436, 1.411547064781189), VE::Point(0.43806949257850647, 0.6420157551765442), VE::Point(1.9921363592147827, 1.3256096839904785), VE::Point(1.1902223825454712, 1.7728753089904785), VE::Point(0.45912206172943115, 1.517015814781189), VE::Point(0.9452463388442993, 1.765062689781189), VE::Point(0.9241936802864075, 0.14006274938583374), VE::Point(0.7347201108932495, 1.587328314781189), VE::Point(0.5548157095909119, 0.110765740275383), VE::Point(1.188308596611023, 0.772875189781189), VE::Point(1.0064903497695923, 1.796312689781189), VE::Point(1.9883085489273071, 1.9506094455718994), VE::Point(0.7921363115310669, 1.8685784339904785), VE::Point(1.49261474609375, 1.3002188205718994), VE::Point(1.4007487297058105, 1.3822500705718994), VE::Point(1.2055333852767944, 1.7103753089904785), VE::Point(1.1174951791763306, 1.4369375705718994), VE::Point(1.8122318983078003, 0.22990648448467255), VE::Point(0.30601203441619873, 1.6146719455718994), VE::Point(1.1155813932418823, 0.4369376599788666), VE::Point(0.9816099405288696, 1.0775628089904785), VE::Point(1.1997917890548706, 0.21037514507770538), VE::Point(0.6026626229286194, 0.34514087438583374), VE::Point(0.769169807434082, 0.05607821047306061), VE::Point(1.352901816368103, 0.1947503536939621), VE::Point(1.7701265811920166, 0.8705313801765442), VE::Point(1.104097843170166, 1.093187689781189), VE::Point(1.946203351020813, 1.138109564781189), VE::Point(1.5863946676254272, 0.847093939781189), VE::Point(0.25433725118637085, 0.6771720051765442), VE::Point(1.7337632179260254, 1.9330313205718994), VE::Point(1.972997784614563, 0.013109457679092884), VE::Point(1.9423754215240479, 0.13517996668815613), VE::Point(0.05529420077800751, 0.856859564781189), VE::Point(1.2552942037582397, 1.5541250705718994), VE::Point(1.6744328737258911, 0.2767814099788666), VE::Point(0.19500721991062164, 1.6459219455718994), VE::Point(1.3069688081741333, 0.2885001301765442), VE::Point(1.2725189924240112, 0.9916252493858337), VE::Point(1.0581649541854858, 0.905687689781189), VE::Point(1.5117534399032593, 1.7377190589904785), VE::Point(0.23902639746665955, 0.833422064781189), VE::Point(0.46103593707084656, 1.017015814781189), VE::Point(0.33089229464530945, 0.786547064781189), VE::Point(0.7385479211807251, 0.0873282179236412), VE::Point(1.151944875717163, 1.999437689781189), VE::Point(0.22180138528347015, 1.208422064781189), VE::Point(0.6964426040649414, 1.274828314781189), VE::Point(1.7031410932540894, 1.964281439781189), VE::Point(0.35768648982048035, 0.34904715418815613), VE::Point(1.3165382146835327, 1.538500189781189), VE::Point(0.9337630271911621, 1.3900628089904785), VE::Point(1.1959638595581055, 1.022875189781189), VE::Point(0.154815673828125, 1.0599846839904785), VE::Point(0.39405032992362976, 1.8177968263626099), VE::Point(1.6725189685821533, 1.9017813205718994), VE::Point(1.662949800491333, 0.6517813205718994), VE::Point(0.987351655960083, 1.1713128089904785), VE::Point(1.919409155845642, 1.760179877281189), VE::Point(0.3442894220352173, 1.2240471839904785), VE::Point(0.5375909805297852, 0.985765814781189), VE::Point(1.754815697669983, 0.7455313801765442), VE::Point(0.5854377746582031, 0.032640740275382996), VE::Point(1.3930933475494385, 1.507250189781189), VE::Point(0.6868731379508972, 0.39982834458351135), VE::Point(1.4830454587936401, 0.4252188503742218), VE::Point(1.4868730306625366, 0.925218939781189), VE::Point(1.7203660011291504, 0.18303154408931732), VE::Point(0.8131889700889587, 0.9154533743858337), VE::Point(0.020844535902142525, 0.2943595349788666), VE::Point(1.452423334121704, 0.45646893978118896), VE::Point(0.608404278755188, 1.845140814781189), VE::Point(1.2284998893737793, 0.08537519723176956), VE::Point(1.257207989692688, 1.054125189781189), VE::Point(0.23328469693660736, 1.9584221839904785), VE::Point(1.7567294836044312, 1.7455315589904785), VE::Point(1.953858733177185, 1.3881094455718994), VE::Point(0.06677766144275665, 0.15373456478118896), VE::Point(1.6973994970321655, 0.4642814099788666), VE::Point(1.3816100358963013, 0.06975036859512329), VE::Point(0.8820884227752686, 0.8217033743858337), VE::Point(1.0198874473571777, 0.733812689781189), VE::Point(1.6993132829666138, 1.4642813205718994), VE::Point(1.3031411170959473, 0.913500189781189), VE::Point(0.08017478138208389, 1.9037344455718994), VE::Point(1.1538589000701904, 0.3744376599788666), VE::Point(1.1194089651107788, 0.936937689781189), VE::Point(1.69357168674469, 0.7142813205718994), VE::Point(0.9395047426223755, 0.26506268978118896), VE::Point(1.0945286750793457, 1.3431878089904785), VE::Point(0.030413903295993805, 1.5443594455718994), VE::Point(1.4677343368530273, 0.581468939781189), VE::Point(1.980652928352356, 1.700609564781189), VE::Point(0.061036016792058945, 1.6068594455718994), VE::Point(0.08400234580039978, 1.278734564781189), VE::Point(1.911753535270691, 0.07267996668815613), VE::Point(1.3356770277023315, 1.976000189781189), VE::Point(1.6763468980789185, 1.2767815589904785), VE::Point(0.48591625690460205, 1.829515814781189), VE::Point(1.5481170415878296, 0.9095940589904785), VE::Point(0.0036196154542267323, 0.07560958713293076), VE::Point(1.4753897190093994, 0.1752190887928009), VE::Point(0.5969210267066956, 1.470140814781189), VE::Point(0.06486381590366364, 0.10685957223176956), VE::Point(1.0562511682510376, 1.405687689781189), VE::Point(1.9653419256210327, 1.763109564781189), VE::Point(0.78448086977005, 1.9935784339904785), VE::Point(1.4600787162780762, 0.33146893978118896), VE::Point(1.130892276763916, 0.5619376301765442), VE::Point(1.9385478496551514, 1.635179877281189), VE::Point(1.9481172561645508, 0.638109564781189), VE::Point(1.3395048379898071, 1.351000189781189), VE::Point(0.621801495552063, 0.6888907551765442), VE::Point(0.25816503167152405, 0.4271719753742218), VE::Point(0.9356769919395447, 0.8900625705718994), VE::Point(1.0447678565979004, 0.10881253331899643), VE::Point(0.6830454468727112, 0.6498282551765442), VE::Point(1.861992597579956, 0.8236564993858337), VE::Point(1.7471601963043213, 1.0580315589904785), VE::Point(1.9098396301269531, 1.0726799964904785), VE::Point(1.2380694150924683, 0.4291251301765442), VE::Point(1.6686913967132568, 1.401781439781189), VE::Point(0.036155570298433304, 0.23185952007770538), VE::Point(0.575868546962738, 0.7826407551765442), VE::Point(1.6457247734069824, 1.3783440589904785), VE::Point(1.8313707113265991, 0.8549063801765442), VE::Point(1.065820574760437, 0.780687689781189), VE::Point(1.0734758377075195, 1.0306878089904785), VE::Point(0.4648636281490326, 0.2045157104730606), VE::Point(1.8945286273956299, 1.8861563205718994), VE::Point(1.632327675819397, 0.753343939781189), VE::Point(0.7021841406822205, 0.5248282551765442), VE::Point(1.6265860795974731, 0.06584369391202927), VE::Point(0.2179737240076065, 0.02092205174267292), VE::Point(1.8658205270767212, 0.5736563801765442), VE::Point(1.9232367277145386, 1.510179877281189), VE::Point(1.517495036125183, 0.987718939781189), VE::Point(1.4064903259277344, 0.6322501301765442), VE::Point(1.6304137706756592, 1.253343939781189), VE::Point(1.00840425491333, 0.5463126301765442), VE::Point(1.3375906944274902, 0.3510001301765442), VE::Point(0.328978568315506, 1.286547064781189), VE::Point(0.11271044611930847, 0.3412345051765442), VE::Point(0.8897439241409302, 1.071703314781189), VE::Point(1.6610358953475952, 1.1517815589904785), VE::Point(0.9299353361129761, 1.640062689781189), VE::Point(1.6897438764572144, 0.21428132057189941), VE::Point(1.2342416048049927, 0.679125189781189), VE::Point(1.134719967842102, 1.061937689781189), VE::Point(0.4227583706378937, 0.8802970051765442), VE::Point(0.562471330165863, 1.657640814781189), VE::Point(1.523236870765686, 1.3627190589904785), VE::Point(0.9835239052772522, 0.07756273448467255), VE::Point(0.782567024230957, 0.9935782551765442), VE::Point(1.9270645380020142, 0.010179968550801277), VE::Point(1.9136673212051392, 0.26017990708351135), VE::Point(0.08208853751420975, 0.2787345349788666), VE::Point(1.2189306020736694, 0.835375189781189), VE::Point(0.4112752079963684, 0.5052969455718994), VE::Point(1.8256291151046753, 1.979906439781189), VE::Point(0.09165772050619125, 1.528734564781189)
	};
	tree.setPoints(points);

	float dist2 = 0.01;
	int amount = 20;
	std::shared_ptr<int[]> indices(new int[amount]);
	std::shared_ptr<float[]> distances2(new float[amount]);
	tree.kNearest(VE::Point(1.35668, 1.10495), dist2, indices.get(), distances2.get(), amount);

	for (int i = 0; i < amount; i++)
	{
		std::cout << "\n" << indices[i] << ",";
	}
	std::cin.get();

	return 0;
	 
	QApplication a(argc, argv);

	ShapeEditor se;
	ImageViewer *iw = new ImageViewer(se.getUi().viewerGrp);
	iw->ConnectUi(se);


	Animation::Frame frame("D:/190725_sequence_colorization/files/demo/file.png", "D:/190725_sequence_colorization/files/demo/file.png.svg");
	iw->AddFrame(frame);
	iw->NextFrame(true);
	se.show();



	

	return a.exec();
}